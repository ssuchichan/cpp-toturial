# 引用
* 引用型返回值，从函数中返回引用，一定要保证在函数返回后，改引用的目标依然有效
  * 返回左值
  * 可以返回全局、静态乃至成员变量的引用
  * 可以返回在堆中动态创建的对象的引用
  * 可以返回调用对象自身的引用
  * 可以返回引用型参数本身
  * 不能返回局部变量的引用
* 常引用型返回值
    * 返回右值

```c++
// 左值：值可以改变
int a;
a = 10;

// 右值：值不能改变
// 10 = 20; // error
// 10++; // error
int a = 10, b = 20;
// (a + b) = 30; // error，表达式的值是又值

int g_x;
int foo() { return g_x; }
// foo() = 10; // error，函数返回值拷贝到匿名变量中，再返回匿名变量，而匿名变量是右值
int& foo2() { return g_x; }
foo2() = 10; // ok，直接引用g_x而不是匿名变量
```
综上所述：返回引用后，所引用的目标要有效。

* 在实现层面，引用就是指针，但在语言层面，引用不是实体类型（在内存中占空间），因此与指针存在明显的差别。
  * 指针可以不初始化，其目标可在初始化后随意变更（除非是指针常量），而引用必须初始化，且一旦初始化就无法变更其目标
  * 存在空指针，不存在空引用
  * 存在指向指针的指针，不存在引用的引用
  * 存在指针的引用，不存在引用的指针
  * 存在指针数组，不存在引用数组，但存在数组引用